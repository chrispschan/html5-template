{"version":3,"sources":["node_modules/browser-pack/_prelude.js","_stream_0.js","src/app/element/element.property.js","src/app/map/demo/toggleMarker.js","src/app/map/index.js","src/app/object/object.property.js","src/app/plugin/index.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","Element","prototype","getDataset","this","dataset","attr","attributes","nameArr","valName","localName","substr","split","j","toUpperCase","value","addClass","className","classList","add","removeClass","remove","replace","RegExp","join","hasClass","contains","test","_map","map","default","markers","position","lat","lng","label","waitReady","mapDemoToggleMarkerIndex","document","getElementById","_loop","markerId","layer","markerPosition","addEventListener","_index","Number","console","log","toggleMarker","show","addMarkers","_plugin2","Map","arguments","undefined","options","_classCallCheck","_this","_possibleConstructorReturn","__proto__","Object","getPrototypeOf","_options","assign","key","language","region","zoom","center","_layer","_ready","_mapEle","querySelectorAll","google","_initMap","_api","libraries","search","_loadPlugin","self","geolocation","geolocationOption","events","_typeof","_key","_latlng","mapCenter","push","maps","mapIndex","mapGeolocation","_geolocation","addEvents","index","_this2","parseInt","handleLocationError","browserHasGeolocation","pos","navigator","getCurrentPosition","coords","latitude","longitude","marker","setCenter","getCenter","_setZoom","setZoom","_results","panTo","_setCenter","concat","_addEvent","event","ele","_disableOther","clearListeners","addListener","_callback","type","mapId","callback","disableOther","_marker","_findMarker","_i","_addMarkers","_markers","_addMarker","Array","isArray","_events","_event","Marker","filter","_this3","_arr","action","setMap","_i2","radius","_rad","x","Math","PI","_nearMarkers","_i3","_pos","_dPos","_a","sin","cos","atan2","sqrt","_zoom","getZoom","_center","assignObj","objs","_objs","plugin","url","head","getElementsByTagName","script","createElement","src","appendChild","_timer","clearInterval","setInterval"],"mappings":"CAAA,SAAAA,EAAAC,EAAAC,EAAAC,GAAA,SAAAC,EAAAC,EAAAC,GAAA,IAAAJ,EAAAG,GAAA,CAAA,IAAAJ,EAAAI,GAAA,CAAA,IAAAE,EAAA,mBAAAC,SAAAA,QAAA,IAAAF,GAAAC,EAAA,OAAAA,EAAAF,GAAA,GAAA,GAAAI,EAAA,OAAAA,EAAAJ,GAAA,GAAA,IAAAK,EAAA,IAAAC,MAAA,uBAAAN,EAAA,KAAA,MAAAK,EAAAE,KAAA,mBAAAF,EAAA,IAAAG,EAAAX,EAAAG,GAAA,CAAAS,QAAA,IAAAb,EAAAI,GAAA,GAAAU,KAAAF,EAAAC,QAAA,SAAAd,GAAA,OAAAI,EAAAH,EAAAI,GAAA,GAAAL,IAAAA,IAAAa,EAAAA,EAAAC,QAAAd,EAAAC,EAAAC,EAAAC,GAAA,OAAAD,EAAAG,GAAAS,QAAA,IAAA,IAAAL,EAAA,mBAAAD,SAAAA,QAAAH,EAAA,EAAAA,EAAAF,EAAAa,OAAAX,IAAAD,EAAAD,EAAAE,IAAA,OAAAD,EAAA,CAAA,CAAAa,EAAA,CAAA,SAAAT,EAAAU,EAAAJ,gBCCAN,EAAA,uFCAAW,QAAQC,UAAUC,WAAa,WAC3B,IAAKC,KAAKC,QAAS,CACf,IAAIC,EAAOF,KAAKG,WACZC,EAAU,GACVC,EAAU,GAEdL,KAAKC,QAAU,GAEf,IAAK,IAAIlB,EAAI,EAAGA,EAAImB,EAAKR,OAAQX,IAC7B,GAAuC,UAAnCmB,EAAKnB,GAAGuB,UAAUC,OAAO,EAAG,GAAgB,CAC5CH,EAAUF,EAAKnB,GAAGuB,UAAUE,MAAM,KAClCH,EAAU,GAEV,IAAK,IAAII,EAAI,EAAGA,EAAIL,EAAQV,OAAQe,IAChCJ,GAAiB,IAANI,EAAUL,EAAQK,GAAML,EAAQK,GAAGF,OAAO,EAAG,GAAGG,cAAgBN,EAAQK,GAAGF,OAAO,GAEjGP,KAAKC,QAAQI,GAAWH,EAAKnB,GAAG4B,OAK5C,OAAOX,KAAKC,SAIhBJ,QAAQC,UAAUc,SAAW,SAAUC,GAC/Bb,KAAKc,UACLd,KAAKc,UAAUC,IAAIF,GAEnBb,KAAKa,WAAa,IAAMA,GAIhChB,QAAQC,UAAUkB,YAAc,SAAUH,GAClCb,KAAKc,UACLd,KAAKc,UAAUG,OAAOJ,GAEtBb,KAAKa,UAAYb,KAAKa,UAAUK,QAAQ,IAAIC,OAAO,UAAYN,EAAUL,MAAM,KAAKY,KAAK,KAAO,UAAW,MAAO,MAI1HvB,QAAQC,UAAUuB,SAAW,SAAUR,GAQnC,OALIb,KAAKc,UACOd,KAAKc,UAAUQ,SAAST,GAExB,IAAIM,OAAO,QAAUN,EAAY,QAAS,MAAMU,KAAKvB,KAAKa,iDChD9E,MAAAW,EAAAtC,EAAA,OAEA,IAAIuC,EAAM,uCAAAC,QAAQ,uBAAwB,CACtCC,QAAS,CACL,CACIC,SAAU,CACNC,IAAK,SACLC,IAAK,WAETC,MAAO,MAEX,CACIH,SAAU,CACNC,IAAK,kBACLC,IAAK,mBAETC,MAAO,MAEX,CACIH,SAAU,CACNC,IAAK,kBACLC,IAAK,oBAETC,MAAO,SAKnBN,EAAIO,UAAU,WAIV,IAFA,IAAIC,EAA2BC,SAASC,eAAe,4BAFvCC,EAAA,SAIPrD,GACL,IAAIsD,EAAWZ,EAAIa,MAAM,GAAGvD,GAAGsD,SAC3BE,EAAiBd,EAAIa,MAAM,GAAGvD,GAAG6C,SAErCM,SAASC,eAAT,oBAA4CpD,GAAKyD,iBAAiB,QAAS,SAAC7D,GACxE,IAAI8D,EAASC,OAAOT,EAAyBtB,OAE7CgC,QAAQC,IAAInB,EAAIoB,aAAa,CAACC,MAAM,GAAOT,EAAUI,IACrDE,QAAQC,IAAInB,EAAIa,SAGpBJ,SAASC,eAAT,oBAA4CpD,GAAKyD,iBAAiB,QAAS,SAAC7D,GACxE,IAAI8D,EAASC,OAAOT,EAAyBtB,OAE7CgC,QAAQC,IAAInB,EAAIoB,aAAa,CAACC,MAAM,GAAQT,EAAUI,IACtDE,QAAQC,IAAInB,EAAIa,SAGpBJ,SAASC,eAAT,sBAA8CpD,GAAKyD,iBAAiB,QAAS,SAAC7D,GAC1E,IAAI8D,EAASC,OAAOT,EAAyBtB,OAE7CgC,QAAQC,IAAInB,EAAIoB,aAAa,CAAC5B,QAAQ,GAAOoB,EAAUI,IACvDE,QAAQC,IAAInB,EAAIa,SAGpBJ,SAASC,eAAT,qBAA6CpD,GAAKyD,iBAAiB,QAAS,SAAC7D,GACzE,IAAI8D,EAASC,OAAOT,EAAyBtB,OAE7Cc,EAAIoB,aAAa,CAAC5B,QAAQ,GAAOoB,EAAUI,GAC3ChB,EAAIsB,WAAW,CACXnB,SAAUW,EACVR,MAAA,IAAWhD,GACZ0D,GACHE,QAAQC,IAAInB,EAAIa,UAjCfvD,EAAI,EAAGA,EAAI,EAAGA,IAAKqD,EAAnBrD,qiBChCbG,EAAA,0BACAA,EAAA,4BACA,MAAA8D,EAAA9D,EAAA,kDAGqB+D,cACjB,SAAAA,IAAyC,IAA5BxB,EAA4B,EAAAyB,UAAAxD,aAAAyD,IAAAD,UAAA,GAAAA,UAAA,GAAtB,OAAQE,EAAc,EAAAF,UAAAxD,aAAAyD,IAAAD,UAAA,GAAAA,UAAA,GAAJ,gGAAIG,CAAArD,KAAAiD,GAAA,IAAAK,mKAAAC,CAAAvD,MAAAiD,EAAAO,WAAAC,OAAAC,eAAAT,IAAAxD,KAAAO,KAC/ByB,EAAK2B,IAoBX,GAnBAE,EAAKK,SAAWF,OAAOG,OAAO,CAC1BC,IAAK,GACLC,SAAU,GACVC,OAAQ,GACRC,KAAM,GACNC,OAAQ,CACJpC,IAAK,SACLC,IAAK,YAEVsB,GAEHE,EAAK9B,KAAO,GAEZ8B,EAAKY,OAAS,GAEdZ,EAAKa,QAAS,EAEdb,EAAKc,QAAUlC,SAASmC,iBAAiB5C,GAEnB,oBAAX6C,OACPhB,EAAKiB,SAALjB,OACG,CAEH,IAAIkB,EAAO,0CAQX,GAP0B,KAAtBlB,EAAKK,SAASE,KAAyC,KAA3BP,EAAKK,SAASG,UAA4C,KAAzBR,EAAKK,SAASI,SAAeS,GAAQ,KAC5E,KAAtBlB,EAAKK,SAASE,MAAYW,GAAQ,OAASlB,EAAKK,SAASE,KAC9B,KAA3BP,EAAKK,SAASG,UAAyC,KAAtBR,EAAKK,SAASE,MAAYW,GAAQ,KACxC,KAA3BlB,EAAKK,SAASG,WAAiBU,GAAQ,YAAclB,EAAKK,SAASG,UAC1C,KAAzBR,EAAKK,SAASI,QAAwC,KAAtBT,EAAKK,SAASE,KAAyC,KAA3BP,EAAKK,SAASG,WAAkBU,GAAQ,KAC3E,KAAzBlB,EAAKK,SAASI,SAAeS,GAAQ,UAAYlB,EAAKK,SAASI,QACtC,OAAzBT,EAAKK,SAASI,SAAiBS,EAAOA,EAAKtD,QAAQ,8BAA+B,0BAClFoC,EAAKK,SAASc,UAAW,CACzBD,IAA8B,IAAtBA,EAAKE,OAAO,KAAc,cAAgB,cAElD,IAAK,IAAI3F,EAAI,EAAGA,EAAIuE,EAAKK,SAASc,UAAU/E,OAAQX,IAChDyF,GAAc,IAANzF,EAAUuE,EAAKK,SAASc,UAAU1F,GAAM,IAAMuE,EAAKK,SAASc,UAAU1F,GAEtFuE,EAAKqB,YAAYH,EAAMlB,EAAKiB,UAvCK,OAAAjB,oXA2C/BsB,GAGN,IAFA,IAAIjB,EAAW,GAEN5E,EAAI,EAAGA,EAAI6F,EAAKR,QAAQ1E,OAAQX,IAAK,CAc1C,UAbA4E,EAAWF,OAAOG,OAAO,GAAIgB,EAAKjB,WAElBE,WACTF,EAASkB,mBACTlB,EAASmB,yBACTnB,EAASoB,cACTpB,EAAShC,eACTgC,EAASG,gBACTH,EAASI,OAEhBa,EAAKR,QAAQrF,GAAGgB,aAGuB,WAAnCiF,EAAOJ,EAAKR,QAAQrF,GAAGkB,SACvB,IAAK,IAAI4D,KAAOe,EAAKR,QAAQrF,GAAGkB,QAAS,CACrC,IAAIgF,EAAOpB,EAAItD,OAAO,GAItB,OAFA0E,EAAOA,EAAK1E,OAAO,EAAG,GAAGG,cAAgBuE,EAAK1E,OAAO,GAE7CsD,GACJ,IAAK,oBACL,IAAK,sBACL,IAAK,4BACL,IAAK,eACL,IAAK,uBACL,IAAK,uBACL,IAAK,oBACL,IAAK,aACL,IAAK,gBACL,IAAK,mBACL,IAAK,kBACL,IAAK,iBACL,IAAK,uBACL,IAAK,iBACDF,EAASsB,GAAyC,SAAjCL,EAAKR,QAAQrF,GAAGkB,QAAQ4D,GACzC,MACJ,IAAK,aACL,IAAK,aACL,IAAK,UACL,IAAK,UACDF,EAASsB,GAAQvC,OAAOkC,EAAKR,QAAQrF,GAAGkB,QAAQ4D,IAChD,MACJ,IAAK,YACD,IAAIqB,EAAUN,EAAKR,QAAQP,GAAK5D,QAAQkF,UAAUjE,QAAQ,KAAM,IAAIV,MAAM,KACpD,GAAlB0E,EAAQxF,SAAaiE,EAASsB,GAAQ,CAACpD,IAAKqD,EAAQ,GAAIpD,IAAKoD,EAAQ,KACzE,MACJ,IAAK,8BACL,IAAK,uBACL,IAAK,0BACL,IAAK,yBACL,IAAK,8BACL,IAAK,wBACDvB,EAASsB,GAAQ,CAACrD,SAAUgD,EAAKR,QAAQrF,GAAGkB,QAAQ4D,IACpD,MACJ,IAAK,iBACD,MACJ,QACIF,EAASsB,GAAQL,EAAKR,QAAQrF,GAAGkB,QAAQ4D,IAMzDe,EAAKpD,KAAK4D,KAAK,IAAId,OAAOe,KAAKpC,IAAI2B,EAAKR,QAAQrF,GAAI4E,IAEpDiB,EAAKpD,KAAKzC,GAAGuG,SAAWvG,GAEuB,SAA3C6F,EAAKR,QAAQrF,GAAGkB,QAAQsF,gBAA6BX,EAAKjB,SAASkB,cAAaD,EAAKY,aAAazG,GAElG6F,EAAKjB,SAASoB,QACdH,EAAKa,UAAUb,EAAKjB,SAASoB,OAAQhG,GAErC6F,EAAKjB,SAAShC,SACdiD,EAAK7B,WAAW6B,EAAKjB,SAAShC,QAAS5C,GAG/C6F,EAAKT,QAAS,uCAGJuB,GAAO,IAAAC,EAAA3F,KACb2D,EAAW3D,KAAK2D,SAASmB,kBAAoB9E,KAAK2D,SAASmB,kBAAoB,GAC/ErC,EAA6B,IAApBmD,SAASF,GAAe,EAAIE,SAASF,KAAW,EAwB7D,SAASG,EAAqBC,EAAuBC,GACjDpD,QAAQC,IAAImD,GAtBZC,UAAUnB,YACVmB,UAAUnB,YAAYoB,mBAAmB,SAACrE,GACtC,IAAImE,EAAM,CACNlE,IAAKD,EAASsE,OAAOC,SACrBrE,IAAKF,EAASsE,OAAOE,WAGrBzC,EAAS0C,SACT1C,EAAS0C,OAAOzE,SAAWmE,EAC3BJ,EAAK5C,WAAW,CAACY,EAAS0C,UAG9BV,EAAKnE,KAAKiB,GAAQ6D,UAAUP,IAC7B,WACCF,GAAoB,EAAMF,EAAKnE,KAAKkE,GAAOa,cAC5C5C,GAGHkC,GAAoB,EAAO7F,KAAKwB,KAAKkE,GAAOa,6CAW3CvC,GAAkB,IAAZ0B,EAAY,EAAAxC,UAAAxD,aAAAyD,IAAAD,UAAA,GAAAA,UAAA,IAAH,EACpB,SAASsD,EAAU/E,GACfA,EAAIgF,QAAQzC,GACZ0C,EAAStB,KAAK3D,EAAI6D,UAGtB,IAAI7C,EAA6B,IAApBmD,SAASF,GAAe,EAAIE,SAASF,KAAW,EACzDgB,EAAW,GAEf,IAAgB,IAAZjE,EACA,IAAK,IAAI1D,EAAI,EAAGA,EAAIiB,KAAKwB,KAAK9B,OAAQX,IAClCyH,EAASxG,KAAKwB,KAAKzC,SAChBiB,KAAKwB,KAAKiB,IACjB+D,EAASxG,KAAKwB,KAAKiB,IAEvB,QAAOiE,EAAShH,QAAU,IAAYgH,oCAG/BzC,GAAkC,IAA1B0C,IAA0B,EAAAzD,UAAAxD,aAAAyD,IAAAD,UAAA,KAAAA,UAAA,GAAZwC,EAAY,EAAAxC,UAAAxD,aAAAyD,IAAAD,UAAA,GAAAA,UAAA,IAAH,EACtC,SAAS0D,EAAYnF,GACbkF,EAAOlF,EAAIkF,MAAM1C,GAChBxC,EAAI6E,UAAUrC,GACnByC,EAAStB,KAAK3D,EAAI6D,UAGtB,IAAI7C,EAA6B,IAApBmD,SAASF,GAAe,EAAIE,SAASF,KAAW,EACzDgB,EAAW,GAEf,IAAgB,IAAZjE,EACA,IAAK,IAAI1D,EAAI,EAAGA,EAAIiB,KAAKwB,KAAK9B,OAAQX,IAClC6H,EAAW5G,KAAKwB,KAAKzC,SAClBiB,KAAKwB,KAAKiB,IACjBmE,EAAW5G,KAAKwB,KAAKiB,IAEzB,QAAOiE,EAAShH,QAAU,IAAYgH,oCAG/BtD,GAAqB,IAAZsC,EAAY,EAAAxC,UAAAxD,aAAAyD,IAAAD,UAAA,GAAAA,UAAA,IAAH,EACrBwD,EAAW,GAEf,IAAK,IAAI7C,KAAOT,EACZsD,EAAWA,EAASG,OAAO7G,KAAK8G,UAAUjD,EAAKT,EAAQS,GAAM6B,IAEjE,OAAOgB,oCAGAK,EAAO3D,GAAqB,IAAZsC,EAAY,EAAAxC,UAAAxD,aAAAyD,IAAAD,UAAA,GAAAA,UAAA,IAAH,EAChC,SAAS4D,EAAWE,GACZC,GAAe3C,OAAOe,KAAK0B,MAAMG,eAAeF,EAAKD,GACzDC,EAAIG,YAAYJ,EAAO,SAAUpI,GAC7ByI,EAAUzI,EAAGqB,QAEjB0G,EAAStB,KAAK,CACViC,KAAMjE,EAAQiE,KAAOjE,EAAQiE,KAAO,MACpCN,MAAOA,EACP1E,SAAU2E,EAAI3E,SAAW2E,EAAI3E,SAAW,KACxCiD,SAAU0B,EAAI1B,SAAW0B,EAAI1B,SAAW0B,EAAIM,QAIpD,IAAIF,EAA+B,mBAAZhE,EAAyBA,EAAUA,EAAQmE,SAC9DN,GAAyC,IAAzB7D,EAAQoE,aACxB/E,EAA6B,IAApBmD,SAASF,GAAe,EAAIE,SAASF,KAAW,EACzDgB,EAAW,GAEf,OAAQtD,EAAQiE,MACZ,IAAK,SAGD,IAFA,IAAII,EAAUzH,KAAK0H,YAAYtE,EAAQiD,OAAQ5D,GAEtC1D,EAAI,EAAGA,EAAI0I,EAAQ/H,OAAQX,IAChC+H,EAAUW,EAAQ1I,IACtB,MACJ,QACI,IAAgB,IAAZ0D,EACA,IAAK,IAAIkF,EAAI,EAAGA,EAAI3H,KAAKwB,KAAK9B,OAAQiI,IAClCb,EAAU9G,KAAKwB,KAAKmG,SACjB3H,KAAKwB,KAAKiB,IACjBqE,EAAU9G,KAAKwB,KAAKiB,IAIhC,OAAOiE,qCAGC/E,GAAqB,IAAZ+D,EAAY,EAAAxC,UAAAxD,aAAAyD,IAAAD,UAAA,GAAAA,UAAA,IAAH,EAC1B,SAAS0E,EAAahD,EAAMnD,GACxB,IAAK,IAAIhB,EAAI,EAAGA,EAAIoH,EAASnI,OAAQe,IAAK,CACtC,IAAIgH,EAAUhE,OAAOG,OAAO,GAAIiE,EAASpH,IACrCyD,EAAS0B,SAAS6B,EAAQnF,QAAU,EACpC4B,EAAS,IAAGA,EAAS,GAEzBuD,EAAQhG,IAAMA,SAEPgG,EAAQnF,MAEfsC,EAAKkD,WAAWL,EAASvD,EAAQzC,EAAI6D,UAGzCoB,EAAStB,KAAK,CAACE,SAAU7D,EAAI6D,SAAUvC,WAAY8E,EAASnI,SAGhE,IAAImI,EAAWE,MAAMC,QAAQrG,GAAWA,EAAU,CAACA,GAC/Cc,EAA6B,IAApBmD,SAASF,GAAe,EAAIE,SAASF,KAAW,EACzDgB,EAAW,GAEf,IAAgB,IAAZjE,EACA,IAAK,IAAI1D,EAAI,EAAGA,EAAIiB,KAAKwB,KAAK9B,OAAQX,IAClC6I,EAAY5H,KAAMA,KAAKwB,KAAKzC,SACzBiB,KAAKwB,KAAKiB,IACjBmF,EAAY5H,KAAMA,KAAKwB,KAAKiB,IAEhC,OAAOiE,qCAGCL,GAA8B,IAAtB/D,EAAsB,EAAAY,UAAAxD,aAAAyD,IAAAD,UAAA,GAAAA,UAAA,GAAd,EAAGwC,EAAW,EAAAxC,UAAAxD,aAAAyD,IAAAD,UAAA,GAAAA,UAAA,GAAH,EACnC,GAAImD,EAAOzE,SAAU,CACjB,IAAI+B,EAAW0C,EACXoB,OAAA,EACAhF,EAASmD,SAASF,IAAU,EAC5BuC,EAAU5B,EAAOtB,OACjBmD,OAAA,EAOJ,UALOvE,EAASoB,OAEqB,mBAA1BpB,EAAS/B,SAASC,MAAoB8B,EAAS/B,SAASC,IAAM8B,EAAS/B,SAASC,OACtD,mBAA1B8B,EAAS/B,SAASE,MAAoB6B,EAAS/B,SAASE,IAAM6B,EAAS/B,SAASE,OAEtD,iBAA1B6B,EAAS/B,SAASC,KAAqD,iBAA1B8B,EAAS/B,SAASC,IAAkB,CAGxF,GAFA4F,EAAU,IAAInD,OAAOe,KAAK8C,OAAOxE,GAE7B3D,KAAKkE,OAAOxE,OAAS4C,EAAQ,EAC7B,IAAK,IAAIvD,EAAIiB,KAAKkE,OAAOxE,OAAQX,EAAIuD,EAAQ,EAAGvD,IAC5CiB,KAAKkE,OAAOkB,KAAK,IAMzB,GAHAqC,EAAQpF,SAAWC,EAAQ,IAAMmF,EAAQ7F,SAASC,MAAQ,IAAM4F,EAAQ7F,SAASE,MACjF2F,EAAQH,MAAQ7E,EAEZwF,EACA,IAAK,IAAIpE,KAAOoE,GACZC,EAASD,EAAQpE,IAEVwD,KAAO,SACda,EAAO7B,OAASoB,EAEhBzH,KAAK8G,UAAUjD,EAAKqE,EAAQzF,GAIpCzC,KAAKkE,OAAO5B,GAAO8C,KAAKqC,yCAKvBrE,GAAiC,IAAxBd,EAAwB,EAAAY,UAAAxD,aAAAyD,IAAAD,UAAA,GAAAA,UAAA,IAAf,EAAGwC,EAAY,EAAAxC,UAAAxD,aAAAyD,IAAAD,UAAA,GAAAA,UAAA,IAAH,EACnC2E,OAAA,EACAlE,EAAWF,OAAOG,OAAO,CACrBd,MAAM,EACN7B,QAAQ,GACTmC,GACHc,EAA6B,IAApB0B,SAAStD,GAAe,EAAIsD,SAAStD,KAAW,EACzDG,EAA6B,IAApBmD,SAASF,GAAe,EAAIE,SAASF,KAAW,EAE7D,IAAgB,IAAZxB,EAAe,CACf2D,EAAWE,MAAMC,QAAQhI,KAAKsC,MAAM,IAAMtC,KAAKsC,MAAM,GAAK,GAE1D,IAAK,IAAIvD,EAAI,EAAGA,EAAIiB,KAAKkE,OAAOxE,OAAQX,IACpC8I,EAAWA,EAAShB,OAAO7G,KAAKkE,OAAOnF,SAE3C8I,EAAWE,MAAMC,QAAQhI,KAAKsC,MAAM4B,IAAWlE,KAAKsC,MAAM4B,GAAU,GAKxE,OAHgB,IAAZzB,IACAoF,EAAWA,EAASO,OAAO,SAACzJ,GAAD,OAAOA,EAAE2I,QAAU7E,KAE3CzC,KAAK6C,aAAac,EAAUkE,wCAGzBzE,EAASiD,GAAoB,IAAAgC,EAAArI,KAAZ0F,EAAY,EAAAxC,UAAAxD,aAAAyD,IAAAD,UAAA,GAAAA,UAAA,IAAH,EAChCuE,OAAA,EACA9D,EAAWF,OAAOG,OAAO,CACrBd,MAAM,EACN7B,QAAQ,GACTmC,GACHkF,OAAA,EACA5B,EAAW,CACP6B,OAAQ5E,EAAS1C,OAAS,SAAW0C,EAASb,KAAO,OAAS,OAC9DnB,QAAS,IAKjB,GAFA8F,EAAUzH,KAAK0H,YAAYrB,EAAQX,GAE/B/B,EAASb,OAASa,EAAS1C,OAC3B,IAAK,IAAIlC,EAAI,EAAGA,EAAI0I,EAAQ/H,OAAQX,IAAK,CACrC,IAA0B,IAAtB0I,EAAQ1I,GAAGuI,MACX,IAAK,IAAI7G,EAAI,EAAGA,EAAIT,KAAKwB,KAAK9B,OAAQe,IAClCgH,EAAQ1I,GAAGyJ,OAAOxI,KAAKwB,KAAKf,SAC7BgH,EAAQ1I,GAAGyJ,OAAOxI,KAAKwB,KAAKiG,EAAQ1I,GAAGuI,QAE9CZ,EAAS/E,QAAQyD,KAAK,CAAC/C,SAAUoF,EAAQ1I,GAAGsD,SAAUiF,MAAOG,EAAQ1I,GAAGuI,aAG5E,IADG,IAAAlF,EAAA,SACMqG,GACLhB,EAAQgB,GAAGD,OAAO,MAEd7E,EAAS1C,UACTqH,EAAOb,EAAQgB,GAAGpG,SAAS7B,MAAM,MAC5B,GAAKoF,SAAS0C,EAAK,IACD,iBAAZA,EAAK,KAAiBD,EAAKnE,OAAOoE,EAAK,IAAMD,EAAKnE,OAAO0B,SAAS0C,EAAK,KAAKF,OAAO,SAACzJ,GAAD,QAASA,EAAE0D,WAAaoF,EAAQgB,GAAGpG,UAAY1D,EAAE2I,QAAUG,EAAQgB,GAAGnB,WAGxKZ,EAAS/E,QAAQyD,KAAK,CAAC/C,SAAUoF,EAAQgB,GAAGpG,SAAUiF,MAAOG,EAAQgB,GAAGnB,SATnEmB,EAAI,EAAGA,EAAIhB,EAAQ/H,OAAQ+I,IAAKrG,EAAhCqG,GAab,OAAO/B,sCAGEL,GAAoB,IAAZX,EAAY,EAAAxC,UAAAxD,aAAAyD,IAAAD,UAAA,GAAAA,UAAA,IAAH,EACtBuE,OAAA,EACAa,OAAA,EACA7F,EAA6B,IAApBmD,SAASF,GAAe,EAAIE,SAASF,KAAW,EAe7D,MAbsB,iBAAXW,EAGY,IAFnBiC,EAAOjC,EAAO7F,MAAM,MAEXd,QACL4I,EAAK,GAAK1C,SAAS0C,EAAK,IACD,iBAAZA,EAAK,KAAiBb,EAAUzH,KAAKkE,OAAOoE,EAAK,IAAIF,OAAO,SAACzJ,GAAD,OAAOA,EAAE0D,WAAagE,MAC1FoB,EAAU,GAEjBA,EAAUM,MAAMC,QAAQ3B,GAAUA,EAAS,CAACA,IAEhC,IAAZ5D,GAAkC,EAAjBgF,EAAQ/H,SACzB+H,EAAUA,EAAQW,OAAO,SAACzJ,GAAD,OAAOA,EAAE2I,QAAU7E,KAEzCgF,sCAGExD,GAA4C,IAApCyE,EAAoC,EAAAxF,UAAAxD,aAAAyD,IAAAD,UAAA,GAAAA,UAAA,GAA3B,EAAGZ,EAAwB,EAAAY,UAAAxD,aAAAyD,IAAAD,UAAA,GAAAA,UAAA,IAAf,EAAGwC,EAAY,EAAAxC,UAAAxD,aAAAyD,IAAAD,UAAA,GAAAA,UAAA,IAAH,EAClD,SAASyF,EAAMC,GACX,OAAOA,EAAIC,KAAKC,GAAK,IAGzB,IAAI5E,EAA6B,IAApB0B,SAAStD,GAAe,EAAIsD,SAAStD,KAAW,EACzDG,EAA6B,IAApBmD,SAASF,GAAe,EAAIE,SAASF,KAAW,EAEzDmC,EAAW,GACXkB,EAAe,GAEnB,IAAgB,IAAZ7E,EACA,IAAK,IAAInF,EAAI,EAAGA,EAAIiB,KAAKkE,OAAOxE,OAAQX,IAChCgJ,MAAMC,QAAQhI,KAAKkE,OAAOnF,MAC1B8I,EAAWA,EAAShB,OAAO7G,KAAKkE,OAAOnF,UAExCgJ,MAAMC,QAAQhI,KAAKkE,OAAOA,MACjC2D,EAAW7H,KAAKkE,OAAOA,IAE3B,IAAK,IAAI8E,EAAI,EAAGA,EAAInB,EAASnI,OAAQsJ,IAAK,CACtC,IAAIC,EAAapB,EAASmB,GAAGpH,SAASC,MAAlCoH,EAA8CpB,EAASmB,GAAGpH,SAASE,MACnEoH,EAAcP,EAAKM,EAAWhF,EAAOpC,KAArCqH,EAAgDP,EAAKM,EAAWhF,EAAOnC,KACvEqH,EAAKN,KAAKO,IAAIF,EAAY,GAAKL,KAAKO,IAAIF,EAAY,GAChDL,KAAKQ,IAAIV,EAAK1E,EAAOpC,MAAQgH,KAAKQ,IAAIV,EAAK1E,EAAOpC,MAAQgH,KAAKO,IAAIF,EAAY,GAAKL,KAAKO,IAAIF,EAAY,GAhB3G,MAiBG,EAAIL,KAAKS,MAAMT,KAAKU,KAAKJ,GAAKN,KAAKU,KAAK,EAAIJ,MAG3CT,KACU,IAAZjG,GAAiBoF,EAASmB,GAAG1B,QAAU7E,GACvCsG,EAAa3D,KAAKyC,EAASmB,KAIvC,OAAOD,8BAGE,OAAO/I,KAAKwB,mCAEV,OAAOxB,KAAKkE,oCAKvB,IAFA,IAAIsF,EAAQ,GAEHzK,EAAI,EAAGA,EAAIiB,KAAKwB,KAAK9B,OAAQX,IAClCyK,EAAMpE,KAAKpF,KAAKwB,KAAKzC,GAAG0K,WAE5B,OAAOD,iCAMP,IAFA,IAAIE,EAAU,GAEL3K,EAAI,EAAGA,EAAIiB,KAAKwB,KAAK9B,OAAQX,IAClC2K,EAAQtE,KAAK,CAACvD,IAAK7B,KAAKwB,KAAKzC,GAAGwH,YAAY1E,MAAOC,IAAK9B,KAAKwB,KAAKzC,GAAGwH,YAAYzE,QAErF,OAAO4H,qBAtcMzG,uTCJrBQ,OAAOG,OAAS,WACZ,OAEA,SAAS+F,EAAWC,GAChB,IAAIC,EAAQ,GAEZ,IAAK,IAAI9K,EAAI,EAAGA,EAAI6K,EAAKlK,OAAQX,IAC7B,GAAuB,WAAnBiG,EAAO4E,EAAK7K,IACZ,IAAK,IAAI8E,KAAO+F,EAAK7K,GACjB,GAA4B,WAAxBiG,EAAO4E,EAAK7K,GAAG8E,KAAsBkE,MAAMC,QAAQ4B,EAAK7K,GAAG8E,IAE1D,GAAIkE,MAAMC,QAAQ4B,EAAK7K,GAAG8E,IAAO,CAClCgG,EAAMhG,GAAO,GAEb,IAAK,IAAIpD,EAAI,EAAGA,EAAImJ,EAAK7K,GAAG8E,GAAKnE,OAAQe,IACN,WAA3BuE,EAAO4E,EAAK7K,GAAG8E,GAAKpD,IACpBoJ,EAAMhG,GAAKuB,KAAKuE,EAAU,CAAC,GAAIC,EAAK7K,GAAG8E,GAAKpD,MAE5CoJ,EAAMhG,GAAKuB,KAAKwE,EAAK7K,GAAG8E,GAAKpD,SAGrCoJ,EAAMhG,GAAO+F,EAAK7K,GAAG8E,QAXrBgG,EAAMhG,GAAO8F,EAAU,CAACE,EAAMhG,GAAOgG,EAAMhG,GAAO,GAAI+F,EAAK7K,GAAG8E,KAgB9E,OAAOgG,EAzBJF,CAAUzG,+VCFA4G,aACjB,SAAAA,iGAAezG,CAAArD,KAAA8J,GACX9J,KAAKmE,QAAS,gDAIL4F,EAAKxC,GAAU,IAAAjE,EAAAtD,KAEpBgK,EAAO9H,SAAS+H,qBAAqB,QAAQ,GAC7CC,EAAShI,SAASiI,cAAc,UAWpC,OAVAD,EAAO7C,KAAO,kBACd6C,EAAOE,IAAML,EAIbG,EAAO1H,iBAAiB,OAAQ,WAAQ+E,EAASjE,KAGjD0G,EAAKK,YAAYH,GAEVH,oCAGAxC,GAYP,IAAI+C,EAAS,KAIb,OAfA,SAASlD,EAAWxC,GACZA,EAAKT,QACLoD,IACe,OAAX+C,GAAiBC,cAAcD,IACjB,OAAXA,IACPA,EAASE,YAAY,WACjBpD,EAAUxC,IACX,MAMXwC,CAAUpH,OAEH,gCAGI,OAAOA,KAAKmE,0BA1CV2F","file":"shortcode.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","// auto import demo js\nimport 'map/demo/toggleMarker';\n","// ie get dataset value\r\nElement.prototype.getDataset = function () {\r\n    if (!this.dataset) {\r\n        let attr = this.attributes,\r\n            nameArr = [],\r\n            valName = '';\r\n\r\n        this.dataset = {};\r\n\r\n        for (let i = 0; i < attr.length; i++) {\r\n            if (attr[i].localName.substr(0, 5) === 'data-') {\r\n                nameArr = attr[i].localName.split('-');\r\n                valName = '';\r\n\r\n                for (let j = 1; j < nameArr.length; j++)\r\n                    valName += j === 1 ? nameArr[j] : (nameArr[j].substr(0, 1).toUpperCase() + nameArr[j].substr(1));\r\n\r\n                this.dataset[valName] = attr[i].value;\r\n            }\r\n        }\r\n    }\r\n\r\n    return this.dataset;\r\n};\r\n\r\n// add class without jq\r\nElement.prototype.addClass = function (className) {\r\n    if (this.classList)\r\n        this.classList.add(className);\r\n    else\r\n        this.className += ' ' + className;\r\n};\r\n\r\n// remove class without jq\r\nElement.prototype.removeClass = function (className) {\r\n    if (this.classList)\r\n        this.classList.remove(className);\r\n    else\r\n        this.className = this.className.replace(new RegExp('(^|\\\\b)' + className.split(' ').join('|') + '(\\\\b|$)', 'gi'), ' ');\r\n};\r\n\r\n// has class without jq\r\nElement.prototype.hasClass = function (className) {\r\n    let _hasClass = false;\r\n\r\n    if (this.classList)\r\n        _hasClass = this.classList.contains(className);\r\n    else\r\n        _hasClass = new RegExp('(^| )' + className + '( |$)', 'gi').test(this.className);\r\n\r\n    return _hasClass;\r\n};\r\n","import Map from 'map';\r\n\r\nlet map = new Map('.mapDemoToggleMarker', {\r\n    markers: [\r\n        {\r\n            position: {\r\n                lat: 22.28552,\r\n                lng: 114.15769\r\n            },\r\n            label: 'M0'\r\n        },\r\n        {\r\n            position: {\r\n                lat: 22.26479252616582,\r\n                lng: 113.9421272277832\r\n            },\r\n            label: 'M1'\r\n        },\r\n        {\r\n            position: {\r\n                lat: 22.35245727253212,\r\n                lng: 114.11859512329102\r\n            },\r\n            label: 'M2'\r\n        }\r\n    ]\r\n});\r\n\r\nmap.waitReady(() => {\r\n    // run stript when map ready\r\n    let mapDemoToggleMarkerIndex = document.getElementById('mapDemoToggleMarkerIndex');\r\n\r\n    for (let i = 0; i < 3; i++) {\r\n        let markerId = map.layer[0][i].markerId;\r\n        let markerPosition = map.layer[0][i].position;\r\n\r\n        document.getElementById(`mapDemoShowButton${i}`).addEventListener('click', (e) => {  // show marker\r\n            let _index = Number(mapDemoToggleMarkerIndex.value);\r\n\r\n            console.log(map.toggleMarker({show: true}, markerId, _index));\r\n            console.log(map.layer);\r\n        });\r\n\r\n        document.getElementById(`mapDemoHideButton${i}`).addEventListener('click', (e) => {  // hide marker\r\n            let _index = Number(mapDemoToggleMarkerIndex.value);\r\n            \r\n            console.log(map.toggleMarker({show: false}, markerId, _index));\r\n            console.log(map.layer);\r\n        });\r\n\r\n        document.getElementById(`mapDemoRemoveButton${i}`).addEventListener('click', (e) => {  // remove marker\r\n            let _index = Number(mapDemoToggleMarkerIndex.value);\r\n            \r\n            console.log(map.toggleMarker({remove: true}, markerId, _index));\r\n            console.log(map.layer);\r\n        });\r\n\r\n        document.getElementById(`mapDemoResetButton${i}`).addEventListener('click', (e) => {  // reset marker\r\n            let _index = Number(mapDemoToggleMarkerIndex.value);\r\n            \r\n            map.toggleMarker({remove: true}, markerId, _index);\r\n            map.addMarkers({\r\n                position: markerPosition,\r\n                label: `M${i}`\r\n            }, _index);\r\n            console.log(map.layer);\r\n        });\r\n    }\r\n});\r\n","import 'object/object.property';\r\nimport 'element/element.property';\r\nimport plugin from 'plugin';\r\n\r\n// Google Maps\r\nexport default class Map extends plugin {\r\n    constructor (map = '.map', options = {}) {\r\n        super(map, options);\r\n        this._options = Object.assign({\r\n            key: '',\r\n            language: '',\r\n            region: '',\r\n            zoom: 10,\r\n            center: {\r\n                lat: 22.28552,\r\n                lng: 114.15769\r\n            }\r\n        }, options);\r\n\r\n        this._map = [];\r\n\r\n        this._layer = [];\r\n\r\n        this._ready = false;\r\n\r\n        this._mapEle = document.querySelectorAll(map);\r\n\r\n        if (typeof google !== 'undefined') {    // with google api\r\n            this._initMap(this);\r\n        } else {    // without google api\r\n            // google api not ready\r\n            let _api = 'https://maps.googleapis.com/maps/api/js';\r\n            if (this._options.key !== '' || this._options.language !== '' || this._options.region !== '') _api += '?';\r\n            if (this._options.key !== '') _api += 'key=' + this._options.key;\r\n            if (this._options.language !== '' && this._options.key !== '') _api += '&';\r\n            if (this._options.language !== '') _api += 'language=' + this._options.language;\r\n            if (this._options.region !== '' && (this._options.key !== '' || this._options.language !== '')) _api += '&';\r\n            if (this._options.region !== '') _api += 'region=' + this._options.region;\r\n            if (this._options.region === 'cn') _api = _api.replace('https://maps.googleapis.com', 'http://maps.google.cn');\r\n            if (this._options.libraries) {\r\n                _api += _api.search('=') === -1 ? '?libraries=' : '&libraries=';\r\n\r\n                for (let i = 0; i < this._options.libraries.length; i++)\r\n                    _api += i === 0 ? this._options.libraries[i] : (',' + this._options.libraries[i]);\r\n            }\r\n            this._loadPlugin(_api, this._initMap);\r\n        }\r\n    }\r\n\r\n    _initMap (self) {\r\n        let _options = {};\r\n\r\n        for (let i = 0; i < self._mapEle.length; i++) {\r\n            _options = Object.assign({}, self._options);\r\n\r\n            delete _options.key;\r\n            delete _options.geolocation;\r\n            delete _options.geolocationOption;\r\n            delete _options.events;\r\n            delete _options.markers;\r\n            delete _options.language;\r\n            delete _options.region;\r\n\r\n            self._mapEle[i].getDataset();\r\n\r\n            /*----------  self options from dataset  ----------*/\r\n            if (typeof self._mapEle[i].dataset === 'object') {\r\n                for (let key in self._mapEle[i].dataset) {\r\n                    let _key = key.substr(3);\r\n\r\n                    _key = _key.substr(0, 1).toUpperCase() + _key.substr(1);\r\n\r\n                    switch (key) {\r\n                        case 'mapClickableIcons':   // true/false value\r\n                        case 'mapDisableDefaultUI':\r\n                        case 'mapDisableDoubleClickZoom':\r\n                        case 'mapDraggable':\r\n                        case 'mapFullscreenControl':\r\n                        case 'mapKeyboardShortcuts':\r\n                        case 'mapMapTypeControl':\r\n                        case 'mapNoClear':\r\n                        case 'mapPanControl':\r\n                        case 'mapRotateControl':\r\n                        case 'mapScaleControl':\r\n                        case 'mapScrollwheel':\r\n                        case 'mapStreetViewControl':\r\n                        case 'mapZoomControl':\r\n                            _options[_key] = self._mapEle[i].dataset[key] === 'true';\r\n                            break;\r\n                        case 'mapHeading':    // number value\r\n                        case 'mapMaxZoom':\r\n                        case 'mapTilt':\r\n                        case 'mapZoom':\r\n                            _options[_key] = Number(self._mapEle[i].dataset[key]);\r\n                            break;\r\n                        case 'mapCenter':   // latlng\r\n                            let _latlng = self._mapEle[key].dataset.mapCenter.replace(/ /g, '').split(',');\r\n                            if (_latlng.length >= 2) _options[_key] = {lat: _latlng[0], lng: _latlng[1]};\r\n                            break;\r\n                        case 'mapFullscreenControlOptions':     // control options\r\n                        case 'mapPanControlOptions':\r\n                        case 'mapRotateControlOptions':\r\n                        case 'mapScaleControlOptions':\r\n                        case 'mapStreetViewControlOptions':\r\n                        case 'mapZoomControlOptions':\r\n                            _options[_key] = {position: self._mapEle[i].dataset[key]};\r\n                            break;\r\n                        case 'mapGeolocation':    // skip value\r\n                            break;\r\n                        default:\r\n                            _options[_key] = self._mapEle[i].dataset[key];\r\n                            break;\r\n                    }\r\n                }\r\n            }\r\n\r\n            self._map.push(new google.maps.Map(self._mapEle[i], _options));\r\n\r\n            self._map[i].mapIndex = i;\r\n\r\n            if (self._mapEle[i].dataset.mapGeolocation === 'true' || self._options.geolocation) self._geolocation(i);\r\n\r\n            if (self._options.events)\r\n                self.addEvents(self._options.events, i);\r\n\r\n            if (self._options.markers)\r\n                self.addMarkers(self._options.markers, i);\r\n        }\r\n\r\n        self._ready = true;\r\n    }\r\n\r\n    _geolocation (index) {\r\n        let _options = this._options.geolocationOption ? this._options.geolocationOption : {},\r\n            _index = parseInt(index) === 0 ? 0 : parseInt(index) || -1;\r\n\r\n        // Try HTML5 geolocation.\r\n        if (navigator.geolocation) {\r\n            navigator.geolocation.getCurrentPosition((position) => {\r\n                let pos = {\r\n                    lat: position.coords.latitude,\r\n                    lng: position.coords.longitude\r\n                };\r\n\r\n                if (_options.marker) {\r\n                    _options.marker.position = pos;\r\n                    this.addMarkers([_options.marker]);\r\n                }\r\n\r\n                this._map[_index].setCenter(pos);\r\n            }, () => {\r\n                handleLocationError(true, this._map[index].getCenter());\r\n            }, _options);\r\n        } else {\r\n            // Browser doesn't support Geolocation\r\n            handleLocationError(false, this._map[index].getCenter());\r\n        }\r\n\r\n        function handleLocationError (browserHasGeolocation, pos) {\r\n            console.log(pos);\r\n            // console.log(browserHasGeolocation ?\r\n            //     'Error: The Geolocation service failed.' :\r\n            //     'Error: Your browser doesn\\'t support geolocation.');\r\n        }\r\n    }\r\n\r\n    setZoom (zoom, index = -1) {\r\n        function _setZoom (map) {\r\n            map.setZoom(zoom);\r\n            _results.push(map.mapIndex);\r\n        }\r\n\r\n        let _index = parseInt(index) === 0 ? 0 : parseInt(index) || -1,\r\n            _results = [];\r\n\r\n        if (_index === -1) {\r\n            for (let i = 0; i < this._map.length; i++)\r\n                _setZoom(this._map[i]);\r\n        } else if (this._map[_index])\r\n            _setZoom(this._map[_index]);\r\n\r\n        return _results.length <= 0 ? false : _results;\r\n    }\r\n\r\n    setCenter (center, panTo = true, index = -1) {\r\n        function _setCenter (map) {\r\n            if (panTo) map.panTo(center);\r\n            else map.setCenter(center);\r\n            _results.push(map.mapIndex);\r\n        }\r\n\r\n        let _index = parseInt(index) === 0 ? 0 : parseInt(index) || -1,\r\n            _results = [];\r\n\r\n        if (_index === -1) {\r\n            for (let i = 0; i < this._map.length; i++)\r\n                _setCenter(this._map[i]);\r\n        } else if (this._map[_index])\r\n            _setCenter(this._map[_index]);\r\n\r\n        return _results.length <= 0 ? false : _results;\r\n    }\r\n\r\n    addEvents (options, index = -1) {\r\n        let _results = [];\r\n\r\n        for (let key in options)\r\n            _results = _results.concat(this._addEvent(key, options[key], index));\r\n\r\n        return _results;\r\n    }\r\n    \r\n    _addEvent (event, options, index = -1) {\r\n        function _addEvent (ele) {\r\n            if (_disableOther) google.maps.event.clearListeners(ele, event);\r\n            ele.addListener(event, function (e) {\r\n                _callback(e, this);\r\n            });\r\n            _results.push({\r\n                type: options.type ? options.type : 'map',\r\n                event: event,\r\n                markerId: ele.markerId ? ele.markerId : null,\r\n                mapIndex: ele.mapIndex ? ele.mapIndex : ele.mapId\r\n            });\r\n        }\r\n\r\n        let _callback = typeof options === 'function' ? options : options.callback,\r\n            _disableOther = options.disableOther === true,\r\n            _index = parseInt(index) === 0 ? 0 : parseInt(index) || -1,\r\n            _results = [];\r\n\r\n        switch (options.type) {\r\n            case 'marker':     // add to marker\r\n                let _marker = this._findMarker(options.marker, _index);\r\n\r\n                for (let i = 0; i < _marker.length; i++)\r\n                    _addEvent(_marker[i]);\r\n                break;\r\n            default:    // add to map\r\n                if (_index === -1) {\r\n                    for (let i = 0; i < this._map.length; i++)\r\n                        _addEvent(this._map[i]);\r\n                } else if (this._map[_index])\r\n                    _addEvent(this._map[_index]);\r\n                break;\r\n        }\r\n\r\n        return _results;\r\n    }\r\n\r\n    addMarkers (markers, index = -1) {\r\n        function _addMarkers (self, map) {\r\n            for (let j = 0; j < _markers.length; j++) {\r\n                let _marker = Object.assign({}, _markers[j]),\r\n                    _layer = parseInt(_marker.layer) || 0;\r\n                if (_layer < 0) _layer = 0;\r\n\r\n                _marker.map = map;\r\n\r\n                delete _marker.layer;\r\n\r\n                self._addMarker(_marker, _layer, map.mapIndex);\r\n            }\r\n\r\n            _results.push({mapIndex: map.mapIndex, addMarkers: _markers.length});\r\n        }\r\n\r\n        let _markers = Array.isArray(markers) ? markers : [markers],\r\n            _index = parseInt(index) === 0 ? 0 : parseInt(index) || -1,\r\n            _results = [];\r\n\r\n        if (_index === -1) {\r\n            for (let i = 0; i < this._map.length; i++)\r\n                _addMarkers(this, this._map[i]);\r\n        } else if (this._map[_index])\r\n            _addMarkers(this, this._map[_index]);\r\n\r\n        return _results;\r\n    }\r\n\r\n    _addMarker (marker, layer = 0, index = 0) {\r\n        if (marker.position) {\r\n            let _options = marker,\r\n                _marker,\r\n                _index = parseInt(index) || 0,\r\n                _events = marker.events,\r\n                _event;\r\n\r\n            delete _options.events;\r\n\r\n            if (typeof _options.position.lat === 'function') _options.position.lat = _options.position.lat();\r\n            if (typeof _options.position.lng === 'function') _options.position.lng = _options.position.lng();\r\n\r\n            if (typeof _options.position.lat === 'number' && typeof _options.position.lat === 'number') {\r\n                _marker = new google.maps.Marker(_options);\r\n\r\n                if (this._layer.length < layer + 1) {\r\n                    for (let i = this._layer.length; i < layer + 1; i++)\r\n                        this._layer.push([]);\r\n                }\r\n\r\n                _marker.markerId = layer + '-' + _marker.position.lat() + '-' + _marker.position.lng();\r\n                _marker.mapId = _index;\r\n\r\n                if (_events) {\r\n                    for (let key in _events) {\r\n                        _event = _events[key];\r\n\r\n                        _event.type = 'marker';\r\n                        _event.marker = _marker;\r\n\r\n                        this._addEvent(key, _event, _index);\r\n                    }\r\n                }\r\n\r\n                this._layer[layer].push(_marker);\r\n            }\r\n        }\r\n    }\r\n\r\n    toggleLayer (options, layer = -1, index = -1) {\r\n        let _markers,\r\n            _options = Object.assign({\r\n                show: true,\r\n                remove: false\r\n            }, options),\r\n            _layer = parseInt(layer) === 0 ? 0 : parseInt(layer) || -1,\r\n            _index = parseInt(index) === 0 ? 0 : parseInt(index) || -1;\r\n\r\n        if (_layer === -1) {\r\n            _markers = Array.isArray(this.layer[0]) ? this.layer[0] : [];\r\n\r\n            for (let i = 1; i < this._layer.length; i++)\r\n                _markers = _markers.concat(this._layer[i]);\r\n        } else\r\n            _markers = Array.isArray(this.layer[_layer]) ? this.layer[_layer] : [];\r\n\r\n        if (_index !== -1)\r\n            _markers = _markers.filter((e) => e.mapId === _index);\r\n\r\n        return this.toggleMarker(_options, _markers);\r\n    }\r\n\r\n    toggleMarker (options, marker, index = -1) {\r\n        let _marker,\r\n            _options = Object.assign({\r\n                show: true,\r\n                remove: false\r\n            }, options),\r\n            _arr,\r\n            _results = {\r\n                action: _options.remove ? 'remove' : _options.show ? 'show' : 'hide',\r\n                markers: []\r\n            };\r\n\r\n        _marker = this._findMarker(marker, index);\r\n\r\n        if (_options.show && !_options.remove) {\r\n            for (let i = 0; i < _marker.length; i++) {\r\n                if (_marker[i].mapId === -1) {\r\n                    for (let j = 0; j < this._map.length; j++)\r\n                        _marker[i].setMap(this._map[j]);\r\n                } else _marker[i].setMap(this._map[_marker[i].mapId]);\r\n\r\n                _results.markers.push({markerId: _marker[i].markerId, mapId: _marker[i].mapId});\r\n            }\r\n        } else {\r\n            for (let i = 0; i < _marker.length; i++) {\r\n                _marker[i].setMap(null);\r\n\r\n                if (_options.remove) {\r\n                    _arr = _marker[i].markerId.split('-');\r\n                    _arr[0] = parseInt(_arr[0]);\r\n                    if (typeof _arr[0] !== 'string') this._layer[_arr[0]] = this._layer[parseInt(_arr[0])].filter((e) => !(e.markerId === _marker[i].markerId && e.mapId === _marker[i].mapId));\r\n                }\r\n\r\n                _results.markers.push({markerId: _marker[i].markerId, mapId: _marker[i].mapId});\r\n            }\r\n        }\r\n\r\n        return _results;\r\n    }\r\n\r\n    _findMarker (marker, index = -1) {\r\n        let _marker,\r\n            _arr,\r\n            _index = parseInt(index) === 0 ? 0 : parseInt(index) || -1;\r\n\r\n        if (typeof marker === 'string') {\r\n            _arr = marker.split('-');\r\n\r\n            if (_arr.length >= 3) {\r\n                _arr[0] = parseInt(_arr[0]);\r\n                if (typeof _arr[0] !== 'string') _marker = this._layer[_arr[0]].filter((e) => e.markerId === marker);\r\n            } else _marker = [];\r\n        } else\r\n            _marker = Array.isArray(marker) ? marker : [marker];\r\n\r\n        if (_index !== -1 && _marker.length > 0)\r\n            _marker = _marker.filter((e) => e.mapId === _index);\r\n\r\n        return _marker;\r\n    }\r\n\r\n    nearMarkers (center, radius = 1, layer = -1, index = -1) {\r\n        function _rad (x) {\r\n            return x * Math.PI / 180;\r\n        }\r\n\r\n        let _layer = parseInt(layer) === 0 ? 0 : parseInt(layer) || -1,\r\n            _index = parseInt(index) === 0 ? 0 : parseInt(index) || -1,\r\n            _km = 6371,\r\n            _markers = [],\r\n            _nearMarkers = [];\r\n\r\n        if (_layer === -1) {\r\n            for (let i = 0; i < this._layer.length; i++) {\r\n                if (Array.isArray(this._layer[i]))\r\n                    _markers = _markers.concat(this._layer[i]);\r\n            }\r\n        } else if (Array.isArray(this._layer[_layer]))\r\n            _markers = this._layer[_layer];\r\n\r\n        for (let i = 0; i < _markers.length; i++) {\r\n            let _pos = {lat: _markers[i].position.lat(), lng: _markers[i].position.lng()},\r\n                _dPos = {lat: _rad(_pos.lat - center.lat), lng: _rad(_pos.lng - center.lng)},\r\n                _a = Math.sin(_dPos.lat / 2) * Math.sin(_dPos.lat / 2) +\r\n                    Math.cos(_rad(center.lat)) * Math.cos(_rad(center.lat)) * Math.sin(_dPos.lng / 2) * Math.sin(_dPos.lng / 2),\r\n                _c = 2 * Math.atan2(Math.sqrt(_a), Math.sqrt(1 - _a)),\r\n                _d = _km * _c;\r\n\r\n            if (_d <= radius) {\r\n                if (_index === -1 || _markers[i].mapId === _index)\r\n                    _nearMarkers.push(_markers[i]);\r\n            }\r\n        }\r\n\r\n        return _nearMarkers;\r\n    }\r\n\r\n    get map () { return this._map; }\r\n\r\n    get layer () { return this._layer; }\r\n\r\n    get zoom () {\r\n        let _zoom = [];\r\n\r\n        for (let i = 0; i < this._map.length; i++)\r\n            _zoom.push(this._map[i].getZoom());\r\n\r\n        return _zoom;\r\n    }\r\n\r\n    get center () {\r\n        let _center = [];\r\n\r\n        for (let i = 0; i < this._map.length; i++)\r\n            _center.push({lat: this._map[i].getCenter().lat(), lng: this._map[i].getCenter().lng()});\r\n\r\n        return _center;\r\n    }\r\n}\r\n","// Object.assign (IE support)\r\nObject.assign = function () {\r\n    return assignObj(arguments);\r\n\r\n    function assignObj (objs) {\r\n        let _objs = {};\r\n\r\n        for (let i = 0; i < objs.length; i++) {\r\n            if (typeof objs[i] === 'object') {\r\n                for (let key in objs[i]) {\r\n                    if (typeof objs[i][key] === 'object' && !Array.isArray(objs[i][key]))\r\n                        _objs[key] = assignObj([_objs[key] ? _objs[key] : {}, objs[i][key]]);\r\n                    else if (Array.isArray(objs[i][key])) {\r\n                        _objs[key] = [];\r\n\r\n                        for (let j = 0; j < objs[i][key].length; j++) {\r\n                            if (typeof objs[i][key][j] === 'object')\r\n                                _objs[key].push(assignObj([{}, objs[i][key][j]]));\r\n                            else\r\n                                _objs[key].push(objs[i][key][j]);\r\n                        }\r\n                    } else\r\n                        _objs[key] = objs[i][key];\r\n                }\r\n            }\r\n        }\r\n\r\n        return _objs;\r\n    }\r\n};\r\n","export default class plugin {\r\n    constructor () {\r\n        this._ready = false;\r\n    }\r\n\r\n    // load plugin file if html not load the file\r\n    _loadPlugin (url, callback) {\r\n        // Adding the script tag to the head as suggested before\r\n        let head = document.getElementsByTagName('head')[0];\r\n        let script = document.createElement('script');\r\n        script.type = 'text/javascript';\r\n        script.src = url;\r\n\r\n        // Then bind the event to the callback function.\r\n        // There are several events for cross browser compatibility.\r\n        script.addEventListener('load', () => { callback(this); });\r\n\r\n        // Fire the loading\r\n        head.appendChild(script);\r\n\r\n        return url;\r\n    }\r\n\r\n    waitReady (callback) {\r\n        function _callback (self) {\r\n            if (self._ready) {\r\n                callback();\r\n                if (_timer !== null) clearInterval(_timer);\r\n            } else if (_timer === null) {\r\n                _timer = setInterval(() => {\r\n                    _callback(self);\r\n                }, 200);\r\n            }\r\n        }\r\n\r\n        let _timer = null;\r\n\r\n        _callback(this);\r\n\r\n        return true;\r\n    }\r\n\r\n    get ready () { return this._ready; }\r\n}\r\n"]}